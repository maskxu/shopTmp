{"version":3,"file":"language-server.js","sourceRoot":"","sources":["../../../../src/cli/commands/theme/language-server.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,kCAAkC,CAAA;AAC3D,OAAO,EAAC,mBAAmB,EAAC,MAAM,gBAAgB,CAAA;AAClD,OAAO,EAAC,QAAQ,EAAC,MAAM,4BAA4B,CAAA;AACnD,OAAO,EAAC,WAAW,EAAC,MAAM,2BAA2B,CAAA;AACrD,OAAO,EAAC,WAAW,EAAC,MAAM,qCAAqC,CAAA;AAE/D,MAAqB,cAAe,SAAQ,YAAY;IAQtD,KAAK,CAAC,GAAG;QACP,MAAM,EAAC,KAAK,EAAC,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAA;QAEhD,IAAI,KAAK,CAAC,aAAa,CAAC,EAAE;YACxB,WAAW,EAAE,CAAA;YACb,OAAM;SACP;QAED,MAAM,QAAQ,CAAC,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,CAAA;IAC9C,CAAC;;AAhBM,0BAAW,GAAG,0CAA0C,CAAA;AAExD,oBAAK,GAAG;IACb,GAAG,WAAW;IACd,GAAG,mBAAmB;CACvB,CAAA;eANkB,cAAc","sourcesContent":["import ThemeCommand from '../../utilities/theme-command.js'\nimport {themeDevPreviewFlag} from '../../flags.js'\nimport {execCLI2} from '@shopify/cli-kit/node/ruby'\nimport {globalFlags} from '@shopify/cli-kit/node/cli'\nimport {startServer} from '@shopify/theme-language-server-node'\n\nexport default class LanguageServer extends ThemeCommand {\n  static description = 'Start a Language Server Protocol server.'\n\n  static flags = {\n    ...globalFlags,\n    ...themeDevPreviewFlag,\n  }\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(LanguageServer)\n\n    if (flags['dev-preview']) {\n      startServer()\n      return\n    }\n\n    await execCLI2(['theme', 'language-server'])\n  }\n}\n"]}